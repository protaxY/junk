# № Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Бирюков В.В.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

Существует несколько способов решения логических задач: метод рассуждений, построение таблицы истиности, метод логических высказываний.
Метод рассуждений это способ вывода каких-либо утверждений из исходных для получения ответа, без явного использования инструментов алгебры логики. Метод логических высказываний сопоставляет условиям задачи формулы алгебры логики, с которыми затем можно построить таблицу истиности или связать в одну формулу, решаемую или той же таблицей истиности, или другими способами.

Будучи логическим языком, Пролог позволяет задавать высказывания задачи в виде фактов и правил, схожих с формулами алгебры логики. Используя нелогические средства языка, такие как отсечение, можно задавать еще более сложные высказывания. Нахождение ответа производится путем явного или неявного перебора. Явный перебор представляет собой не что иное, как построение таблицы истиности составленных ранее высказываний. Неявный - больше похож на метод рассуждений. Таким образом Пролог позволяет решать большое количество логических задач.

## Задание

1. Воронов, Павлов, Левицкий и Сахаров  четыре талантливых молодых человека. Один из них  танцор, другой  художник, третий  певец, четвертый  писатель. Воронов и Левицкий сидели в зале консерватории в тот вечер, когда певец дебютировал в сольном концерте. Павлов и писатель вместе позировали художнику. Писатель написал биографическую повесть о Сахарове и собирается написать о Воронове. Воронов никогда не слышал о Левицком. Кто чем занимается? 

## Принцип решения

Условие содержит три высказывания - описания ситуаций, каждая из которых связывает трех людей, а также дополнительное условие об их "знакомстве".
Причем, условие "знакомства" является не коммутативным и, исходя из непротиворечивости высказываний, можно связать это условие с ситуациями таким образом: третий человек в ситуации (певец, художник и писатель) слышал о каждом из остальных двух людей.

Решение задачи будет производиться перебором всех возможных решений и проверкой каждого решения на противоречивость.

Так, решение генерирует описание каждой ситуации:
```prolog
data([Voronov, _, Levitskiy, _], [Voronov, Levitskiy, singer], true).
data([_, Pavlov, _, _], [Pavlov, writer, painter], true).
data([Voronov, _, _, Saharov], [Voronov, Saharov, writer], true).
```

При этом, необходимо проверить, что в каждой ситуации человек одной профессии встречается один раз:
```prolog
data(_, [X, X, _], false).
data(_, [X, _, X], false).
data(_, [_, X, X], false).
```

Также, Воронов должен не знать о Левицком, то есть в ситуации, где Воронов третий человек, Левицкого быть не может:
```prolog
data([Voronov, _, Levitskiy, _], [Levitskiy, _, Voronov], false).
data([Voronov, _, Levitskiy, _], [_, Levitskiy, Voronov], false).
```

Пример запроса:
```prolog
?- solve(Voronov, Pavlov, Levitskiy, Saharov).
Voronov = dancer,
Pavlov = singer,
Levitskiy = writer,
Saharov = painter ;
false.
```

Код программы:
```prolog
solve(Voronov, Pavlov, Levitskiy, Saharov) :-
	permutation([Voronov, Pavlov, Levitskiy, Saharov], [dancer, painter, singer, writer]), 
	not(contradiction([Voronov, Pavlov, Levitskiy, Saharov])).

contradiction(V) :- data(V, A, TF), logicalnot(TF, FT), data(V, A, FT).

logicalnot(true, false).
logicalnot(false, true).

data([Voronov, _, Levitskiy, _], [Voronov, Levitskiy, singer], true).
data([_, Pavlov, _, _], [Pavlov, writer, painter], true).
data([Voronov, _, _, Saharov], [Voronov, Saharov, writer], true).
data(_, [X, X, _], false).
data(_, [X, _, X], false).
data(_, [_, X, X], false).
data([Voronov, _, Levitskiy, _], [Levitskiy, _, Voronov], false).
data([Voronov, _, Levitskiy, _], [_, Levitskiy, Voronov], false).
```

## Выводы

В ходе выполнения лабороторной работы я составил программу для решения логической задачи. Программа находит единственное и непротиворечивое решение, по минимуму используя нелогические средства языка Пролог.
В процессе решения происходит перебор всех возможных ответов на задачу и проверка каждого из них. Так как задача имеет конечное число решений, каждое из которых проверяется конечным числом условий, зацикливания программы не происходит.
Так как используется переборный алгоритм, асимптотика решения составляет O(N!), где N - количество людей (профессий).

В процессе написания программы я попробовал несколько подходов к решению логических задач и выяснил, что исходные высказывания можно представить в предикатах Пролога несколькими способами, но некоторые из них замедляют поиск решения или вообще не позволяют его получить. Несмотря на это, Пролог является достаточно удобным инструментом для решения задач такого рода.
